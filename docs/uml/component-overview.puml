@startuml
skinparam componentStyle rectangle
skinparam shadowing false

title Bookvoice - Component Overview

allowmixing

component "bookvoice.cli" as CLI
component "bookvoice.pipeline (BookvoicePipeline)" as PIPELINE
component "bookvoice.config (BookvoiceConfig)" as CONFIG
component "bookvoice.io.pdf_text_extractor (PdfTextExtractor)" as EXTRACTOR
component "bookvoice.io.chapter_splitter (ChapterSplitter)" as SPLITTER
component "bookvoice.io.storage (ArtifactStore)" as STORE
component "bookvoice.text.cleaners (TextCleaner)" as CLEANER
component "bookvoice.text.chunking (Chunker)" as CHUNKER
component "bookvoice.llm.translator (OpenAITranslator)" as TRANSLATOR
component "bookvoice.llm.audio_rewriter (AudioRewriter)" as REWRITER
component "bookvoice.tts.synthesizer (OpenAITTSSynthesizer)" as SYNTH
component "bookvoice.tts.voices (VoiceProfile)" as VOICE
component "bookvoice.audio.postprocess (AudioPostProcessor)" as POST
component "bookvoice.audio.merger (AudioMerger)" as MERGER
component "bookvoice.models.datatypes" as MODELS

CLI --> CONFIG
CLI --> PIPELINE

PIPELINE --> CONFIG
PIPELINE --> EXTRACTOR
PIPELINE --> CLEANER
PIPELINE --> SPLITTER
PIPELINE --> CHUNKER
PIPELINE --> TRANSLATOR
PIPELINE --> REWRITER
PIPELINE --> SYNTH
PIPELINE --> VOICE
PIPELINE --> POST
PIPELINE --> MERGER
PIPELINE --> STORE
PIPELINE --> MODELS

SPLITTER --> MODELS
CHUNKER --> MODELS
TRANSLATOR --> MODELS
REWRITER --> MODELS
SYNTH --> MODELS
POST --> MODELS
MERGER --> MODELS

@enduml
